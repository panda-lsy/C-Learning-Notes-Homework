# 数组

## 一维数组

### 概念

相同类型数据的有序集合，在内存中连续存放。

```
a[0] a[1] ..... a[9]
```

特点：

- 由数组名和下标唯一地确定每个数组元素
- 每个元素都属于同一类型
- 优点：表述简洁，可读性高；便于使用循环结构

### 例

输入10个整数，计算这些数的平均值。

面对这个问题，首先考虑如何保存输入的10个数，即多个数据如何保存更好。

```C
int main(void){
	int i;double,sum,n=10;
	int a[10];	//定义1个有10个整型元素的数组a
	for (i=0;i<10;i++){
		scanf("%d",&a[i]);
	}
	for (i=0;i<n;i++){
		scanf("%d",&a[i]);
	}
	sum = 0.0;
	for (i=0;i<n;i++){
		sum += a[i];
	}
	printf("平均值是 %.2f\n", sum/n);
	return 0;
}
```

### 一维数组的定义和引用

#### 定义

一维数组定义的一般形式：

```C
类型说明符 数组名[常量表达式];
```

例如：

```C
int a[10];       // 定义一个具有10个整型元素的数组
double b[5];     // 定义一个具有5个double型元素的数组
```

#### 引用

数组元素的引用方式：`数组名[下标]`

- 数组名代表数组的首地址
- 下标从0开始，到数组长度-1
- 下标可以是整型常量、变量或表达式

```C
int a[5] = {10, 20, 30, 40, 50};
printf("%d\n", a[0]);    // 输出10
printf("%d\n", a[2+1]);  // 输出40
```

#### 数组初始化

```C
int a[5] = {1, 2, 3, 4, 5};    // 完全初始化
int b[5] = {1, 2, 3};          // 部分初始化，剩余元素为0
int c[] = {1, 2, 3, 4, 5};     // 根据初始值个数确定数组长度
```

### 数组的应用

#### 数组排序

排序是将一组数据按照特定顺序（如升序或降序）重新排列的过程。

##### 选择排序

见5.1.4-1.c

##### 冒泡排序

原理：相邻元素两两比较，根据大小交换位置，每轮确定一个最值。（见5.1.4-2.c）

```C
// 升序排列
void bubbleSort(int arr[], int n) {
int i, j, temp;
for (i = 0; i < n-1; i++) {
	for (j = 0; j < n-1-i; j++) {
		if (arr[j] > arr[j+1]) {
			temp = arr[j];
			arr[j] = arr[j+1];
			arr[j+1] = temp;
		}
	}
}
}
```

##### 插入排序

原理：将数组分为已排序和未排序两部分，每次将未排序部分的第一个元素插入到已排序部分的合适位置。（见5.1.4-3.c）

```C
// 升序排列
void insertionSort(int arr[], int n) {
int i, j, temp;
for (i = 1; i < n; i++) {
	temp = arr[i];
	j = i - 1;
	while (j >= 0 && arr[j] > temp) {
		arr[j+1] = arr[j];
		j--;
	}
	arr[j+1] = temp;
}
}
```

## 二维数组

### 定义

有两个下标的数组（注意：下表仅供演示，二维数组在内存中不是矩阵）。我们可以想象：

- 一维数组：一列长表或一个向量
- 二维数组：一个表格或一个平面矩阵
- 三维数组：三维空间的一个方阵

| a[0][0] | a[0][1] |
| ------- | ------- |
| a[1][0] | a[1][1] |
| a[2][0] | a[2][1] |

`A[a][b]`，其中 `a`为行下标，`b`为列下标

定义方法如下：

```c
类型名 数组名[行长度][列长度];
```

先定义，后使用(*注意：不要数组越界)*。

#### 初始化

##### 分行赋初值

```C
int a[3][3]={{1,2,3},{4,5,6},{7,8,9}};
static int b[4][3]={{1,2,3},{},{4,5}};
```

没有初始化的静态数组元素默认为0，否则是随机数。即

```C
b={{1,2,3},{0,0,0},{4,5,0},{0,0,0}}
```

##### 顺序赋初值

```c
int a[3][3]={1,2,3,4,5,6,7,8,9};
static int b[4][3]={1,2,3,0,0,0,4,5};
```

##### 省略行长度

对全部元素赋了初值

```C
int a[][3]={1,2,3,4,5,6,7,8,9};
static int b[][3]={{1,2,3},{},{4,5},{}};
```

### 引用

二维数组元素的引用格式：`数组名[行下标][列下标]`

- 行下标和列下标都从0开始
- 下标可以是整型常量、变量或表达式
- 二维数组可以按行优先顺序访问

```C
int matrix[3][2] = {{1, 2}, {3, 4}, {5, 6}};
printf("%d\n", matrix[0][0]);    // 输出1
printf("%d\n", matrix[1][1]);    // 输出4
printf("%d\n", matrix[2][0]);    // 输出5
```

使用嵌套循环遍历二维数组：

```C
int matrix[3][2] = {{1, 2}, {3, 4}, {5, 6}};
for (int i = 0; i < 3; i++) {
	for (int j = 0; j < 2; j++) {
		printf("%d ", matrix[i][j]);
	}
	printf("\n");
}
```

注意：在内存中，二维数组是按行存储的，即先存完第一行再存第二行。
