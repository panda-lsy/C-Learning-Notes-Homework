# 指针和一维数组

## 使指针变量指向一维数组

指针变量可以指向数组的任意元素：

```c
int i, a[5];
int *p;
double b[3], *q;

p = &a[0];  // 等价于 p = a;（指向数组首元素）
q = &b[2];  // 等价于 q = b + 2;（指向第三个元素）

// 使用指针遍历数组
for (p = a; p < a + 5; p++) {
	// 通过指针操作数组元素
	*p = 0;  // 为数组元素赋值
}
```

### 指针地址计算

若 `a[0]` 地址为 1000，由于一个 `int` 数据占 2 字节，则：
- `a[1]` 地址为 1002
- `a[2]` 地址为 1004
- `a[3]` 地址为 1006
- `a[4]` 地址为 1008

**注意**：`p+1` 表示指向下一个数组元素，增加的实际字节数取决于指针类型。

## 指针的算术运算规则

1. 指针可以进行加/减整数的运算（前提是指向连续存储单元）
2. 相同类型的指针可以相减，结果表示两个指针间的元素个数
3. 指针间可以进行比较运算（如 `<`, `>`, `==` 等）

```c
int a[10];
int *p = a;       // 指向首元素
int *q = &a[3];   // 指向第四个元素

p = p + 8;        // 现在p指向a[8]
if (q > p) {
	printf("q大于p\n");
} else {
	printf("q小于p\n");  // 会执行这一行，因为p(a+8)的地址大于q(a+3)
}
```

## 指针操作数组的示例

### 顺序输出数组

```c
int i, a[10], *p = a;
for (i = 0; i < 10; i++) {
	printf("%4d", *(p + i));  // 或使用 p[i]
}
printf("\n");
```

### 数组逆序重排

```c
int i, a[10], *p = a + 9, *t = a, temp;
for (i = 0; i < 5; i++) {
	temp = *t;       // 保存前半部分元素
	*t = *p;         // 后半部分元素移到前半部分
	*p = temp;       // 前半部分元素移到后半部分
	t++;             // 前半部分指针向后移
	p--;             // 后半部分指针向前移
}
```

### 查找数组元素

```c
int i, a[10], *p = a, num, found = 0;
scanf("%d", &num);
for (i = 0; i < 10; i++) {
	if (*(p + i) == num) {  // 或使用 p[i]
		printf("找到元素，下标为: %d\n", i);
		found = 1;
		break;
	}
}
if (!found) {
	printf("未找到该元素\n");
}
```
