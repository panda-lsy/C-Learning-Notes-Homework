# 指针

## 变量的地址

在C语言中，每个变量在内存中都有一个唯一的地址。
变量 `a`的地址可以通过 `&a` 获取，这个地址表示变量在内存中的位置。

## 指针变量的概念

指针是一个特殊的变量，它存储的是另一个变量的内存地址。换句话说，指针"指向"另一个变量。

## 指针变量的定义

指针变量的定义格式：
```c
数据类型 *指针变量名;
```

例如：
```c
int *p;     // 定义一个指向int类型变量的指针
char *str;  // 定义一个指向char类型变量的指针
float *fp;  // 定义一个指向float类型变量的指针
```

## 指针变量的赋值

指针变量只能存储地址值，通常通过取地址运算符`&`来获取一个变量的地址：

```c
int a = 10;
int *p;
p = &a;  // 将变量a的地址赋值给指针p，现在p指向a
```

## 指针的引用（解引用）

通过在指针变量前加`*`号，可以访问指针所指向的变量的值，这称为"解引用"：

```c
int a = 10;
int *p = &a;
printf("%d\n", *p);  // 输出10，即a的值
*p = 20;            // 修改指针p所指向的变量的值
printf("%d\n", a);   // 输出20，a的值已被修改
```
### 指针变量的复制

可以将一个指针变量的值（即它所存储的地址）赋值给另一个类型兼容的指针变量：

```c
int a = 10;
int *p1 = &a;
int *p2 = p1;  // 现在p1和p2都指向a
```

### 变量的直接存取与间接存取

变量可以通过两种方式访问：

1. **直接存取**：直接使用变量名访问变量。
    ```c
    int a = 10;
    printf("%d\n", a);  // 直接访问变量a
    ```

2. **间接存取**：通过指向该变量的指针访问变量。
    ```c
    int a = 10;
    int *p = &a;
    printf("%d\n", *p);  // 间接访问变量a
    ```

### 通过指针修改变量值

指针的一个重要用途是可以通过它修改所指向变量的值：

```c
int a = 10;
int *p = &a;
*p = 20;  // 通过指针p修改变量a的值
printf("%d\n", a);  // 输出20
```

## 指针的大小

在不同的系统中，指针的大小可能不同：
- 在32位系统中，指针通常为4字节
- 在64位系统中，指针通常为8字节

可以使用`sizeof`运算符查看：
```c
printf("指针大小: %d字节\n", sizeof(int*));
```

## NULL指针

未初始化的指针是危险的。建议将不使用的指针初始化为NULL：
```c
int *p = NULL;  // 将p初始化为NULL指针
```

使用指针前应当检查它是否为NULL：
```c
if (p != NULL) {
    // 使用指针p
}
```